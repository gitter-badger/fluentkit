{"version":3,"sources":["components/auth/forgot-password.js"],"names":["System","register","_export","_context","util","Vue","forgotPasswordForm","setters","_util","_vue","execute","template","props","data","email","errors","global","loading","methods","validateForgotPassword","event","this","preventDefault","$http","post","url","then","response","message","timeout","$root","$dispatch","status","formatValidationErrors","$setValidationErrors","component"],"mappings":"AAAA,YAEAA,QAAOC,UAAU,OAAQ,OAAQ,SAAUC,EAASC,GAChD,GAAIC,GAAMC,EAAKC,CACf,QACIC,SAAU,SAAUC,GAAhBJ,EAAAI,GAED,SAAUC,GADdJ,EAAAI,EAAAA,aAICC,QAAS,WAFbJ,GACAK,SAAU,iCACVC,OAAQ,OACRC,KAAM,WACF,OACIC,MAAO,GACPC,QACIC,UACAF,UAEJG,SAAS,IAGjBC,SACIC,uBAAwB,SAAUC,GAG9BC,KAAKJ,SAAU,EAHsBG,EAM/BE,iBAN+BD,KAShCE,MAAMC,KAAKH,KAAKI,KACjBX,MAAOO,KAAKP,QACbY,KAAK,SAAUC,GAEd,GAAId,IAAQe,QAASD,EAASd,KAAKe,QAASC,QAAS,IAErDR,MAAKS,MAAMC,UAAU,eAAgBlB,GAErCQ,KAAKP,MAAQ,GANWO,KASnBJ,SAAU,GAEhB,SAAUU,GAET,GAAuB,KAAnBA,EAASK,OAAe,CAGxBX,KAAKN,OAAOC,OAASW,EAASd,KAAKE,OAAOC,UAE1C,IAAID,GAASX,EAAK6B,uBAAuBN,EAASd,KAAKE,OACvDM,MAAKa,qBAAqBnB,OAEzB,CAGD,GAAIF,IAAQe,QAAS,gGAAiGC,QAAS,IAC/HR,MAAKS,MAAMC,UAAU,eAAgBlB,GAdtBQ,KAmBdJ,SAAU,OAMnBf,EAAQ,UAALG,EAAI8B,UAAU,uBAAwB7B","file":"components/auth/forgot-password.js","sourcesContent":["/*!\n * FluentKit v0.1.0\n * (c) 2016 Lee Mason\n * Released under the MIT License.\n */\nimport * as util from 'util'\nimport Vue from 'vue'\n\nvar forgotPasswordForm = {\n    template: '#forgot-password-form-template',\n    props: ['url'],\n    data: function(){\n        return {\n            email: '',\n            errors: {\n                global: [],\n                email: []\n            },\n            loading: false\n        }\n    },\n    methods: {\n        validateForgotPassword: function (event) {\n\n            //show the loader\n            this.loading = true;\n\n            //prevent submission\n            event.preventDefault();\n\n            //validate - authorize the request\n            this.$http.post(this.url, {\n                email: this.email\n            }).then(function (response) {\n\n                var data = {message: response.data.message, timeout: 3000};\n\n                this.$root.$dispatch('notification', data);\n\n                this.email = '';\n\n                //hide the loader, they can try again\n                this.loading = false;\n\n            }, function (response) {\n\n                if (response.status == 422) {\n\n                    //validation/authorization error - set the errors as returned or clear\n                    this.errors.global = response.data.errors.global || [];\n\n                    var errors = util.formatValidationErrors(response.data.errors);\n                    this.$setValidationErrors(errors);\n\n                }else{\n\n                    //something bad happened\n                    var data = {message: 'We encountered a technical problem performing this request, please contact the administrator.', timeout: 3000};\n                    this.$root.$dispatch('notification', data);\n\n                }\n\n                //hide the loader, they can try again\n                this.loading = false;\n            });\n        }\n    }\n};\n\nexport default Vue.component('forgot-password-form', forgotPasswordForm);\n\n//export default forgotPasswordForm"],"sourceRoot":"/source/"}