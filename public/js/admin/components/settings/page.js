"use strict";System.register(["util","vue"],function(t,i){var e,s,n;return{setters:[function(t){e=t},function(t){s=t["default"]}],execute:function(){n={template:"#admin-settings-page-template",props:{groups:Array,url:String},data:function(){return{active_panel:null,loading:!1}},methods:{getFieldsForSave:function(){var t={settings:{}};return this.groups.forEach(function(i){i.sections.forEach(function(i){i.fields.forEach(function(i){t.settings[i.id]={id:i.id,value:i.value}})})}),t},syncFieldValidation:function(t){if(void 0!==t)try{t.errors=this.$settings[t.id].errors||[],t.touched=this.$settings[t.id].touched||!1,t.valid=this.$settings[t.id].valid||!1,t.invalid=this.$settings[t.id].invalid||!1,t.modified=this.$settings[t.id].modified||!1,t.dirty=this.$settings[t.id].dirty||!1}catch(i){}}},events:{"close-panel":function(){this.active_panel=null},save:function(){this.loading=!0,this.$http.post(this.url,this.getFieldsForSave()).then(function(t){var i={message:t.data.message,timeout:3e3};this.$dispatch("notification",i),this.$broadcast("saved"),this.loading=!1},function(t){if(422==t.status){var i=e.formatValidationErrors(t.data.errors);i.forEach(function(t){t.field=t.field.substring(9)}),this.$setValidationErrors(i)}else if(401==t.status){var s={message:t.data,timeout:3e3};this.$dispatch("notification",s)}else{var s={message:"We encountered a technical problem performing this request, please contact the administrator.",timeout:3e3};this.$dispatch("notification",s)}this.loading=!1})}}},t("default",s.component("admin-settings-page",n))}}});
//# sourceMappingURL=page.js.map
